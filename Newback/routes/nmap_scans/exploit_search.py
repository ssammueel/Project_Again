from flask import Blueprint, request, jsonify

search_bp = Blueprint('search', __name__)

@search_bp.route('/search_exploit', methods=['POST'])
def search_exploit():
    data = request.json
    query = data.get('query', '').lower()
    
    # Simulated search results for demonstration (replace with actual search logic)
    mock_results = [
        {"title": "Apache HTTP Server 2.4.49 - Path Traversal"},
        {"title": "Apache Struts 2 - Remote Code Execution"}
    ]
    
    # Filter results containing the search term
    results = [exploit for exploit in mock_results if query in exploit["title"].lower()]
    
    return jsonify(results)  # Ensure results are returned as JSON
